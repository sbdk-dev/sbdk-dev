version: 2

sources:
  - name: main
    description: Raw data tables generated by SBDK pipelines
    schema: main
    tables:
      - name: raw_users
        description: Raw user data with demographics and subscription info
        columns:
          - name: user_id
            description: Unique identifier for users
            tests:
              - unique
              - not_null
          - name: email
            description: User email address
            tests:
              - unique
              - not_null
          - name: created_at
            description: User account creation timestamp
            tests:
              - not_null

      - name: raw_events
        description: Raw tracking events from user interactions
        columns:
          - name: event_id
            description: Unique identifier for events
            tests:
              - unique
              - not_null
          - name: user_id
            description: User who performed the event
            tests:
              - not_null
          - name: timestamp
            description: When the event occurred
            tests:
              - not_null

      - name: raw_orders
        description: Raw e-commerce order transactions
        columns:
          - name: order_id
            description: Unique identifier for orders
            tests:
              - unique
              - not_null
          - name: user_id
            description: User who placed the order
            tests:
              - not_null
          - name: total_amount
            description: Total order value
            tests:
              - not_null